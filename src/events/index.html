{% extends "base.html" %} {% block head %}
<link rel="stylesheet" href="/events/events.css" />

<script type="text/javascript" /* @ts-nocheck */>
    // Hack to export template to js
    const IMPORTED_EVENTS = {{ events | dump | safe }};
</script>

<script src="/events/events.js"></script>
{% endblock head %} {% block content %}
<section
    class="page-header"
    style="
        background:
            linear-gradient(
                135deg,
                var(--primary-navy) 0%,
                var(--secondary-navy) 50%,
                var(--accent-blue) 100%
            ),
            url(&quot;/photos/coding_classroom.jpg&quot;) no-repeat center
                center/cover;
        background-blend-mode: multiply;
        min-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 80px;
    "
>
    <div class="container">
        <h1 style="color: white; font-size: 3rem; text-align: center">
            Upcoming Events
        </h1>
        <p
            style="
                color: white;
                text-align: center;
                max-width: 700px;
                margin: 0 auto;
            "
        >
            Join us for these exciting opportunities to learn coding and make a
            difference through technology.
        </p>
    </div>
</section>

<section class="events-section">
    <div class="container">
        <div class="event-tabs">
            <div class="event-tab upcoming-tab active">Upcoming Events</div>
            <div class="event-tab past-tab">Past Events</div>
        </div>

        <!-- Events are automatically populated in the javascript file -->
        <div class="upcoming-events active">
            <div class="events-container"></div>
        </div>

        <div class="past-events">
            <div class="events-container"></div>
        </div>

        <div class="calendar-view">
            <div class="calendar-header">
                <div class="calendar-title" id="calendar-title">
                    November 2024
                </div>
                <div class="calendar-nav">
                    <button id="prev-month">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-month">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <div class="calendar-grid" id="calendar-grid">
                <!-- Day headers -->
                <div class="calendar-day-header">Sun</div>
                <div class="calendar-day-header">Mon</div>
                <div class="calendar-day-header">Tue</div>
                <div class="calendar-day-header">Wed</div>
                <div class="calendar-day-header">Thu</div>
                <div class="calendar-day-header">Fri</div>
                <div class="calendar-day-header">Sat</div>
                <!-- Calendar days will be generated dynamically -->
            </div>
        </div>

        <!-- Admin Panel -->
        <div class="admin-panel" id="admin-panel" style="display: none">
            <div class="admin-status" id="admin-status">
                <span>Admin Mode Active</span>
                <span id="admin-user-display"></span>
                <button id="logout-btn" class="logout-btn">Logout</button>
            </div>
            <h3>Admin: Event Management</h3>
            <div class="admin-controls">
                <button id="add-event" class="btn">Add New Event</button>
                <button id="hide-admin-panel" class="btn btn-secondary">
                    Hide Admin Panel
                </button>
            </div>
        </div>

        <!-- Event Modal -->
        <div class="event-modal" id="event-modal" style="display: none">
            <div class="modal-content">
                <span class="close" id="close-modal">&times;</span>
                <h3 id="modal-title">Add New Event</h3>
                <form id="event-form">
                    <div class="form-group">
                        <label for="event-title">Event Title:</label>
                        <input type="text" id="event-title" required />
                    </div>
                    <div class="form-group">
                        <label for="event-date">Date:</label>
                        <input type="date" id="event-date" required />
                    </div>
                    <div class="form-group">
                        <label for="event-time">Time:</label>
                        <input type="time" id="event-time" required />
                    </div>
                    <div class="form-group">
                        <label for="event-location">Location:</label>
                        <input type="text" id="event-location" required />
                    </div>
                    <div class="form-group">
                        <label for="event-description">Description:</label>
                        <textarea
                            id="event-description"
                            rows="4"
                            required
                        ></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn">Save Event</button>
                        <button
                            type="button"
                            id="cancel-event"
                            class="btn btn-secondary"
                        >
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Event Details Modal -->
        <div class="event-modal" id="event-details-modal" style="display: none">
            <div class="modal-content">
                <span class="close" id="close-details-modal">&times;</span>
                <h3>Events on this day</h3>
                <div id="event-details-list" class="event-details-list">
                    <!-- Populated dynamically -->
                </div>
                <div class="form-actions">
                    <button
                        type="button"
                        class="btn btn-secondary"
                        id="close-details"
                    >
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="cta">
    <div class="container">
        <h2>Want to Propose an Event?</h2>
        <p>
            Have an idea for a fundraiser or community service project? We'd
            love to hear from you!
        </p>
        <a href="contact.html" class="btn">Submit Your Idea</a>
    </div>
</section>
{% endblock %}
